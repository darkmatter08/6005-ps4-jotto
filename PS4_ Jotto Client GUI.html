<!DOCTYPE html>
<!-- saved from url=(0044)http://web.mit.edu/6.005/www/fa13/psets/ps4/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <link rel="stylesheet" href="./PS4_ Jotto Client GUI_files/style.css" type="text/css">
  <style>
  .userin { color: #006600; background: #eeffee; }
  </style>
  <title>PS4: Jotto Client GUI</title>
</head>
<body>

<div class="content">

<h1>6.005 Software Construction<br>
Problem Set 4: Jotto Client GUI<br>
Beta Due: Tuesday, November 19, 2013, 10:00 PM<br>
Code Reviews Due: Thursday, November 21, 2013, 10:00 PM<br>
Final Due: Tuesday, November 26, 2013, 10:00 PM<br></h1>

<p>The purpose of this problem set is to give you experience with GUI programming. In particular you will be using Java Swing. Finally, you will get more practice with multithreading.</p>

<p><b>You have substantial design freedom on this problem set.</b>  However, in order for your solution to be graded, your solution must include the following objects in your GUI as specified in the problems. They are defined for you in the JottoGUI class (and instantiated with default constructors), but you can instantiate them however you would like. These objects must be added directly to the layout of the JottoGUI JFrame.</p>
<ul>
<li>a JButton named "<code>newPuzzleButton</code>"
</li><li>a JLabel named "<code>puzzleNumber</code>"
</li><li>a JTextField named "<code>guess</code>"
</li><li>a JTextField named "<code>newPuzzleNumber</code>"
</li><li>a JTable named "<code>guessTable</code>"
</li></ul>
<p>Your <i>entire</i> GUI must be able to be instantiated using the constructor, requiring no parameters. The constructor should <i>not</i> create a new JFrame â€” JottoGUI <i>is</i> a JFrame.</p>

<div class="warning"><p>You can rename the variables themselves, but their "name" property must be set appropriately using the setName() method.  Your code will be tested automatically; changing these interfaces will cause our testing suite to fail. Failing the test suite means you get 0 points for your submission: beta, final, or otherwise.</p>

<p><b>Also make sure to write detailed specifications for all your methods and test them thoroughly throughout the project, remembering to document your testing strategy. </b></p>

<p>Beyond this requirement you have complete design freedom. For example, you can add new methods, classes, and packages, and rename or delete other classes.</p></div>

<p>To get started, pull the problem set code from git. As a reminder, your git repository for this problem set can be found at:</p>
<pre>    /afs/athena.mit.edu/course/6/6.005/git/fa13/psets/ps4/<em>[your athena name]</em>.git</pre>
<p>If you need a refresher on how to do this, see <a href="http://web.mit.edu/6.005/www/fa13/psets/ps0/">Problem Set 0</a>.</p>

<h2>Overview</h2>

<p>In this problem set, you will implement a simple Jotto playing client that communicates with a server that we have provided for you. If you've never played Jotto, you can find a short description of it <a href="http://en.wikipedia.org/wiki/Jotto">here</a>.</p>

<p>In our particular version of the game, the client selects a puzzle ID at random (starting with 1) which corresponds to a secret 5-letter word on the server. The user can then submit 5-letter dictionary word guesses to the server, which will respond with the number of letters in common between the two words and the number of letters in the correct position.</p>

<p>You will communicate with the server through courses.csail.mit.edu. All communication from the client to the server will be through a request of the following form:</p>

<p class="io">http://courses.csail.mit.edu/6.005/jotto.py?puzzle=[puzzle #]&amp;guess=[5-letter dictionary word]</p>

<p>where [puzzle #] will be replaced by a positive integer generated by the client, and [5-letter dictionary word] is a (you guessed it) 5-letter dictionary word.</p>

<p>The response from the server should be:</p>

<p class="io">guess [in common] [correct position]</p>

<p>where [in common] is the number of letters that the secret word, which the server determines by the puzzle #, and the guess have in common. [correct position] is the number of letters in the guess that are in the correct position in the secret word. Thus, [in common] will always be greater than or equal to [correct position].</p>

<p>If the request sent to the server was invalid, the response will be one of the following errors.</p>

<p class="io">error 0: Ill-formatted request.</p>

<p class="io">error 1: Non-number puzzle ID.</p>

<p class="io">error 2: Invalid guess. Length of guess != 5 or guess is not a dictionary word.</p>

<p>For example, if you were to submit</p>

<p class="io">http://courses.csail.mit.edu/6.005/jotto.py?puzzle=16952&amp;guess=crazy</p>

<p>The secret word for puzzle 16952 is "cargo," so the server should respond</p>

<p class="io">guess 3 1</p>

<p>But if you submitted</p>

<p class="io">http://courses.csail.mit.edu/6.005/jotto.py?puzzle=16952&amp;guess=elephant</p>

<p>The server would respond with</p>

<p class="io">error 2: Invalid guess. Length of guess != 5 or guess is not a dictionary word.</p>

<p>This problem set requires the use of multithreading.  To help in debugging and testing multithreading behavior, the server will provide delayed responses for any guess containing an asterisk ('*'). The asterisk is <i>not</i> a wildcard, but a placeholder.</p>

<p>Ensure that your GUI is still responsive during this delay.</p>

<p>For example, if you were to submit</p>

<p class="io">http://courses.csail.mit.edu/6.005/jotto.py?puzzle=16952&amp;guess=*bean</p>

<p>The server will provide a delayed response, waiting for 5 seconds before responding back with:</p>

<p class="io">guess 1 0</p>

<p>The '*' will be considered a character in the server, so any guesses of incorrect length including the '*' returns an error:</p>

<p class="io">http://courses.csail.mit.edu/6.005/jotto.py?puzzle=16952&amp;guess=fin*ls</p>
<p class="io">error 2: Invalid guess. Length of guess != 5 or guess is not a dictionary word.</p>


<br>
<p>By the end of this problem set you will have built a GUI for your client to interact seamlessly with the server. The interface should eventually look something like this:</p>

<br>
<img src="./PS4_ Jotto Client GUI_files/jotto-gui.png">
<br>

<p>Your GUI does not have to look precisely like the window above, since different operating systems have different fonts, colors, layout, and styling.  But your GUI must contain all the information shown, and the components must have the correct internal names as stated at the top of  this handout and demonstrated in the starting code. Your GUI should pass our tests as long as it functions, and the necessary components are there.</p>

<h2>Problem 1: Communicate with the Server</h2>

<p>Write a Java method that uses java.net.URL (See the Java Tutorial for more details on how to use <a href="http://download.oracle.com/javase/tutorial/networking/urls/readingURL.html">java.net.URL</a>) to send a guess to the server, read back the reply, and return it. You must handle exceptions and errors from the server appropriately. We've provided a method signature for you in <code>JottoModel</code> called <code>makeGuess</code>, but you are free to change anything about it that you like. In fact, its return type is currently void, so you <i>must</i> change that.</p>

<p><b>Make sure to write detailed specs for your method and test it thoroughly. Also remember to document your testing strategy.</b></p>

<h2>Problem 2: Set the Puzzle Number</h2>

<p>Next you'll create a GUI. You may find some of these links helpful:
</p><ul><li><a href="http://algo.math.ntua.gr/~symvonis/other-material/java_material/JavaTutorial/ui/features/components.html">A Visual Guide to Swing Components (1 page)</a></li>
<li><a href="http://docs.oracle.com/javase/tutorial/uiswing/components/">Using Swing Components</a></li>
<li><a href="http://docs.oracle.com/javase/tutorial/uiswing/layout/group.html">How to Use GroupLayout</a></li>
<li><a href="http://docs.oracle.com/javase/tutorial/uiswing/events/intro.html">Introduction to Event Listeners</a></li>
<li><a href="http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html">Concurrency in Swing</a></li></ul><p></p>

<p><b>a.</b> Create a GUI that includes a "New Puzzle" button (named <code>newPuzzleButton</code>) next to a text field (<code>newPuzzleNumber</code>) and a label (<code>puzzleNumber</code>) to display the puzzle number. We recommend that you use the GroupLayout layout manager. It should basically look like the top row of the window above.</p>

<p><b>b.</b> Next, register an ActionListener to set the input from the text field as the new puzzle number, displaying it in the label next to the button. If no number is provided or the input is not a positive integer, pick a random positive integer. Clicking the button and hitting return in the text box should both submit the number the user enters in the text field. Make sure you can generate at least 10,000 different numbers. We've provided a JottoGUI class for you to use, but as stated earlier, you are free to change whatever about this that you like as long as you have the necessary components named correctly. Your program should start with a puzzle number already selected, be it random or always the same.</p>

<p>For both this problem and the next one, <b>make sure that you use an ActionListener</b>, rather than listening for mouse clicks or key presses. Using ActionListeners ensures that your GUI will work correctly for users with different hardware, OS, or settings; or who use keyboard shortcuts, or assistive devices; and so on.</p>

<p><b>Make sure to write detailed specs for your methods and test them thoroughly. Also remember to document your testing strategy.</b></p>
  
<h2>Problem 3: Make a Guess</h2>

<p>Add a JTextField (named <code>guess</code>) to the GUI for the user to input a guess. Then use an ActionListener to send the guess to the server when the user presses ENTER, and print the result to standard output. Also clear the textbox after every guess, so that it's easy for the user to type the next guess. You should print "You win! The secret word was [secret word]!" when the user guesses the word correctly, ie. the server responds with "guess 5 5." Feel free to be creative with the message, but make sure it contains the phrase "you win": for instance "you win" or "You win!" are both fine.</p>

<p><b>Make sure to write detailed specs for your methods and test them thoroughly. Also remember to document your testing strategy.</b></p>

<h2>Problem 4: Record Your Guesses</h2>

<p>Add a JTable (named <code>guessTable</code>) to the GUI, to record both the guess and the server's response for that guess. The table should contain exactly 3 columns. The first column should display the guesses that the user made, the second column should display the number of characters "in common," and the third column should display the number of characters in the "correct position." The table should be cleared each time the puzzle number is reset.</p>

<p>If the server returns an error for a guess, the GUI should still display the guess in the first column, but it should display a human-readable error message for that guess in the table instead of its score. If the server responds with "guess 5 5," indicating a victory, the GUI should still display the guess in the first column, but it should display the "You win!" message in place of an error message or other guess feedback such as its score. The "You win!" message should be on the same line as the winning guess.</p>

<p><b>Make sure to write detailed specs for your methods and test them thoroughly. Also remember to document your testing strategy.</b></p>

<h2>Problem 5: Make it Multithreaded</h2>

<p><b>a.</b> Move the server communication to a background thread. Make sure that you are still able to interact with the GUI even if the server is taking a long time to respond. The user should be able to submit multiple guesses even if the result from the original query has not yet appeared in the table. In particular, the guess should appear in the table <i>as soon as the user submits it</i>, and the results for all the guesses should eventually appear in the appropriate rows.</p>

<p>This means that if you use * to simulate a slow server, you should be able to have several guesses outstanding (with blank results) for a few seconds, until their results are filled in.  For example, if you type *razy, *bazy, and *azy in quick succession, your GUI should look like this:</p>

<p><img src="./PS4_ Jotto Client GUI_files/waiting-for-response.png" width="300"> ... (a few seconds later) ... <img src="./PS4_ Jotto Client GUI_files/after-response.png" width="300"></p>

<p>If a user generates a new puzzle while results from queries from a previous puzzle have not yet appeared in the table, these query results should be discarded.</p>

<p><b>b.</b> Near the top of your JottoModel.java source file, include a substantial comment with an argument about why your client is thread-safe.</p> 

<p>Remember, to test and debug the multithreaded nature of your client, guesses that include a '*' are delayed. You should make sure that your GUI remains responsive during this delay. Also make sure to write detailed specs for your methods and document your testing strategy.</p>

<h2>Notes on Testing</h2>

<p>Be sure to thoroughly document your testing strategy for the GUI. You must document all the steps that you took to thoroughly test the GUI. Which actions did you test? In what order(s) did you test these actions?</p>

<p>Make use of guesses that include a '*' to test the multithreaded nature of your client. Your GUI should remain responsive during this delay.</p>

<p>For testing purposes, the following are several puzzle numbers with their corresponding secret words:
</p>
<ul>
  <li>16952 corresponds to "<i>cargo</i>",</li>
  <li>2015 corresponds to "<i>rucks</i>",</li>
  <li>5555 corresponds to "<i>vapid</i>",</li>
  <li>8888 corresponds to "<i>rased</i>".</li>
</ul>

</div>



</body></html>